<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Données Portfolio</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { border-color: #4CAF50; background-color: #f8fff8; }
        .error { border-color: #f44336; background-color: #fff8f8; }
        .warning { border-color: #ff9800; background-color: #fffbf8; }
    </style>
</head>
<body>
    <h1>Test des Données Portfolio</h1>

    <div id="storage-test" class="section">
        <h2>Test localStorage</h2>
        <div id="storage-result">Vérification en cours...</div>
    </div>

    <div id="data-test" class="section">
        <h2>Test Données</h2>
        <div id="data-result">Vérification en cours...</div>
    </div>

    <div id="functions-test" class="section">
        <h2>Test Fonctions</h2>
        <div id="functions-result">Vérification en cours...</div>
    </div>

    <script src="assets/js/main.js"></script>
    <script>
        // Test localStorage
        setTimeout(() => {
            const storageResult = document.getElementById('storage-result');
            const dataResult = document.getElementById('data-result');
            const functionsResult = document.getElementById('functions-result');

            try {
                const portfolioData = localStorage.getItem('portfolioData');
                if (portfolioData) {
                    storageResult.innerHTML = '<span style="color: green;">✅ localStorage contient des données</span>';
                    storageResult.className = 'section success';

                    const data = JSON.parse(portfolioData);
                    const projectsCount = data.projects ? data.projects.length : 0;
                    const skillsCount = data.skills ? data.skills.length : 0;
                    const timelineCount = data.timeline ? data.timeline.length : 0;

                    dataResult.innerHTML = `
                        <strong>Données trouvées:</strong><br>
                        - Projets: ${projectsCount}<br>
                        - Compétences: ${skillsCount}<br>
                        - Timeline: ${timelineCount}
                    `;
                    dataResult.className = 'section success';

                    // Test des fonctions
                    const homepageProjects = document.getElementById('homepage-projects');
                    const homepageSkills = document.getElementById('homepage-skills');

                    if (homepageProjects && homepageProjects.innerHTML.trim() !== '') {
                        functionsResult.innerHTML = '<span style="color: green;">✅ Fonctions de chargement fonctionnelles</span>';
                        functionsResult.className = 'section success';
                    } else {
                        functionsResult.innerHTML = '<span style="color: orange;">⚠️ Fonctions de chargement en cours...</span>';
                        functionsResult.className = 'section warning';
                    }

                } else {
                    storageResult.innerHTML = '<span style="color: red;">❌ Aucune donnée dans localStorage</span>';
                    storageResult.className = 'section error';
                    dataResult.innerHTML = 'Aucune donnée à afficher';
                    dataResult.className = 'section error';
                    functionsResult.innerHTML = 'Fonctions non testables';
                    functionsResult.className = 'section error';
                }
            } catch (error) {
                storageResult.innerHTML = `<span style="color: red;">❌ Erreur: ${error.message}</span>`;
                storageResult.className = 'section error';
            }
        }, 1000);
    </script>
</body>
</html>