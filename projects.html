<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projets - Portfolio</title>
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’¼</text></svg>" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <script>
    (function() {
      try {
        const raw = localStorage.getItem('portfolioData');
        if (!raw) return;
        const data = JSON.parse(raw);
        if (data?.settings?.maintenance?.enabled !== true) return;
        const message = data?.settings?.maintenance?.message || 'Le site est actuellement en maintenance. Nous serons bientÃ´t de retour !';

        const style = document.createElement('style');
        style.id = 'maintenance-guard-style-inline';
        style.textContent = 'main,header,footer{display:none!important;}body{overflow:hidden!important;}';
        document.head.appendChild(style);

        const overlay = document.createElement('div');
        overlay.id = 'maintenance-overlay';
        overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,0.92);display:flex;align-items:center;justify-content:center;z-index:999999;padding:24px;';
        overlay.innerHTML = '<div class="card" style="max-width:520px;width:100%;text-align:center;gap:12px;display:flex;flex-direction:column;align-items:center;"><div style="font-size:32px;">ğŸ› ï¸</div><h2 style="margin:0;">Site en maintenance</h2><p id="maintenance-message-text" class="muted" style="margin:0;">'+ message +'</p></div>';
        const attach = () => {
          if (!document.getElementById('maintenance-overlay')) {
            document.body.prepend(overlay);
          }
        };
        if (document.body) {
          attach();
        } else {
          document.addEventListener('DOMContentLoaded', attach, { once: true });
        }
      } catch (e) {
        console.error('Maintenance guard inline error:', e);
      }
    })();
  </script>
</head>
<body id="top" class="dark">
  <header class="container">
    <nav class="nav">
      <a class="brand" href="/">Mon Portfolio</a>
      <button id="mobile-menu-toggle" class="menu-mobile-toggle" aria-label="Menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>
      <div class="nav-links" id="nav-links">
        <a href="/">Accueil</a>
        <a href="about.html">Ã€ propos</a>
        <a href="projects.html">Projets</a>
        <a href="services.html">Mes services</a>
        <a href="reports.html">Mes rapports</a>
        <a href="contact.html">Contact</a>
        <a href="admin.html" class="admin-nav-link" style="display: none;">
          <span>ğŸ”</span>
          <span class="admin-text">Admin</span>
        </a>
      </div>
    </nav>
  </header>

  <main class="container">
    <div class="back-bar">
      <button class="back-button" type="button" onclick="window.history.length > 1 ? window.history.back() : window.location.href='index.html';">
        â† Retour
      </button>
    </div>
    <!-- Hero Section -->
    <section class="hero projects-hero" data-animate>
      <div class="projects-hero__inner">
        <div class="gradient projects-hero__title" data-shimmer>Projets & expÃ©riences</div>
        <p class="projects-hero__lede">
          Produits web et IA conÃ§us avec une approche orientÃ©e impact : rapides, sÃ©curisÃ©s et maintenables de bout en bout.
        </p>
      </div>
    </section>

    <!-- Stats Section -->
    <section data-animate style="margin: 32px 0 48px;">
      <div class="grid cols-3 stats-grid">
        <div class="card stat-card" data-scroll-reveal="bottom">
          <div class="stat-number" id="total-projects-count" data-count="0">0</div>
          <div class="stat-label">Projets au total</div>
        </div>
        <div class="card stat-card" data-scroll-reveal="bottom" style="transition-delay: 0.1s;">
          <div class="stat-number" id="featured-projects-count" data-count="0">0</div>
          <div class="stat-label">Projets en vedette</div>
        </div>
        <div class="card stat-card" data-scroll-reveal="bottom" style="transition-delay: 0.2s;">
          <div class="stat-number" id="visible-projects-count" data-count="0">0</div>
          <div class="stat-label">Projets visibles</div>
        </div>
      </div>
    </section>

    <!-- Filtres et recherche -->
    <section data-animate>
      <div class="project-filters" data-glass style="margin-bottom: 32px; padding: 24px; background: rgba(11, 15, 25, 0.7); border: 1px solid var(--line); border-radius: 14px; backdrop-filter: blur(10px);">
        <h2 style="margin-bottom: 12px; font-size: 20px; color: var(--accent);">ğŸ” Recherche et filtres</h2>
        <p class="muted" style="margin-bottom: 16px;">Combine recherche, type et tri pour cibler prÃ©cisÃ©ment les projets publiÃ©s.</p>

        <div style="display: flex; gap: 16px; flex-wrap: wrap; align-items: center; margin-bottom: 20px;">
          <div style="flex: 1; min-width: 250px; position: relative;">
            <input
              type="text"
              id="project-search"
              placeholder="ğŸ” Rechercher un projet, une technologie..."
              style="width: 100%; padding: 12px 16px 12px 44px; border: 2px solid var(--line); border-radius: 10px; font-size: 14px; background: var(--bg); color: var(--text); transition: border-color 0.3s ease;"
            />
            <span style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); font-size: 18px; opacity: 0.6;">ğŸ”</span>
          </div>

          <select
            id="project-type-filter"
            style="padding: 12px 16px; border: 2px solid var(--line); border-radius: 10px; background: var(--bg); color: var(--text); min-width: 200px; font-size: 14px; cursor: pointer; transition: border-color 0.3s ease;"
          >
            <option value="">ğŸ“‚ Tous les types</option>
            <option value="Projet Majeur">â­ Projet Majeur</option>
            <option value="Projet de cours">ğŸ“˜ Projet de cours</option>
            <option value="PFE Licence">ğŸ“ PFE Licence</option>
            <option value="PFA">ğŸ“ PFA (Projet de Fin d'AnnÃ©e)</option>
            <option value="PFE Master">ğŸ“ PFE Master</option>
            <option value="Projet Personnel">ğŸ’¼ Projet Personnel</option>
            <option value="Contrat">ğŸ“‘ Contrat</option>
            <option value="Apprentissage">ğŸ› ï¸ Apprentissage</option>
          </select>

          <select
            id="project-sort"
            style="padding: 12px 16px; border: 2px solid var(--line); border-radius: 10px; background: var(--bg); color: var(--text); min-width: 180px; font-size: 14px; cursor: pointer; transition: border-color 0.3s ease;"
          >
            <option value="default">ğŸ“Š Trier par dÃ©faut</option>
            <option value="featured">â­ En vedette</option>
            <option value="recent">ğŸ• Plus rÃ©cent</option>
            <option value="name">ğŸ”¤ Nom (A-Z)</option>
          </select>

          <button id="clear-filters" class="btn secondary" style="white-space: nowrap; padding: 12px 20px;">
            <span>ğŸ—‘ï¸</span> Effacer
          </button>
        </div>

        <div id="filter-tags" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--line);">
          <span style="font-size: 12px; color: var(--muted); margin-right: 8px; align-self: center;">Filtres actifs:</span>
        </div>

        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--line);">
          <div id="project-count" style="color: var(--muted); font-size: 14px; font-weight: 500;">
            <span id="visible-count">0</span> projet(s) trouvÃ©(s)
          </div>
          <div style="display: flex; gap: 8px; align-items: center;">
            <button id="view-toggle" class="btn secondary" style="padding: 8px 12px; font-size: 12px;" title="Changer la vue">
              <span id="view-icon">ğŸ“‹</span> Vue liste
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Grid -->
    <section data-animate>
      <div class="grid cols-2" id="projects-grid" style="position: relative; z-index: auto; gap: 24px;"></div>

      <!-- Empty State -->
      <div id="empty-state" style="display: none; text-align: center; padding: 60px 20px; opacity: 0;">
        <div style="font-size: 64px; margin-bottom: 20px; opacity: 0.5;">ğŸ”</div>
        <h3 style="margin-bottom: 12px; color: var(--accent);">Aucun projet trouvÃ©</h3>
        <p class="muted" style="margin-bottom: 24px; max-width: 500px; margin-left: auto; margin-right: auto;">
          Aucun projet ne correspond Ã  vos critÃ¨res de recherche. Essayez de modifier vos filtres.
        </p>
        <button id="clear-filters-empty" class="btn">Effacer les filtres</button>
      </div>

      <!-- Loading State -->
      <div id="projects-loading" style="text-align: center; padding: 40px;">
        <div style="display: inline-block; width: 40px; height: 40px; border: 4px solid var(--line); border-top-color: var(--accent); border-radius: 50%; animation: spin 1s linear infinite;"></div>
        <p class="muted" style="margin-top: 16px;">Chargement des projets...</p>
      </div>
    </section>
    
    <!-- Modal demande de document protÃ©gÃ© -->
    <div id="doc-request-overlay" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 9998;"></div>
    <div id="doc-request-modal" style="display: none; position: fixed; inset: 0; z-index: 9999; align-items: center; justify-content: center; padding: 16px;">
      <div class="card" style="max-width: 480px; width: 100%; position: relative;">
        <button id="doc-request-close" aria-label="Fermer" style="position: absolute; top: 12px; right: 12px; background: none; border: none; color: var(--muted); font-size: 20px; cursor: pointer;">Ã—</button>
        <h3 style="margin-top: 0;">ğŸ“‚ Demander le document</h3>
        <p class="muted" id="doc-request-project" style="margin-bottom: 12px;"></p>
        <p class="muted" style="font-size: 13px; margin-top: -4px;">1) Demandez le mot de passe. 2) Quand vous l'avez reÃ§u de l'auteur, saisissez-le pour tÃ©lÃ©charger.</p>
        <form id="doc-request-form" style="display: flex; flex-direction: column; gap: 12px;">
          <div style="display: flex; gap: 8px; flex-wrap: wrap;">
            <input type="text" id="doc-firstname" placeholder="PrÃ©nom" style="flex: 1; min-width: 140px; padding: 10px 12px;" required />
            <input type="text" id="doc-lastname" placeholder="Nom" style="flex: 1; min-width: 140px; padding: 10px 12px;" />
          </div>
          <input type="email" id="doc-email" placeholder="Email de contact" style="padding: 10px 12px;" required />
          <select id="doc-purpose" style="padding: 10px 12px;">
            <option value="Voir le document">Objet : voir le document</option>
            <option value="TÃ©lÃ©charger le document">Objet : tÃ©lÃ©charger le document</option>
          </select>
          <textarea id="doc-message" placeholder="Message (motivation, contexte...)" style="padding: 10px 12px; min-height: 90px; resize: vertical;"></textarea>
          <div id="doc-request-status" class="muted" style="min-height: 18px; font-size: 13px;"></div>
          <div style="display: flex; gap: 8px; justify-content: flex-end;">
            <button type="button" class="btn secondary" id="doc-request-cancel">Annuler</button>
            <button type="submit" class="btn" id="doc-request-submit">Envoyer</button>
          </div>
        </form>

        <div id="doc-password-block" style="display:none; margin-top: 12px; padding: 12px; border: 1px solid var(--line); border-radius: 10px; background: var(--card-bg, #0f172a);">
          <p class="muted" style="margin: 0 0 8px 0; font-size: 13px;">DÃ©jÃ  un mot de passe ? Saisissez-le pour tÃ©lÃ©charger.</p>
          <div style="display:flex; gap:8px; flex-wrap: wrap;">
            <input type="password" id="doc-password" placeholder="Mot de passe" style="flex:1; min-width: 200px; padding: 10px 12px;" />
            <button type="button" class="btn" id="doc-password-submit">Valider le mot de passe</button>
          </div>
          <div id="doc-password-status" class="muted" style="min-height: 16px; font-size: 13px; margin-top:6px;"></div>
        </div>

        <button type="button" id="doc-password-toggle" class="btn secondary" style="width:100%; margin-top:10px;">J'ai dÃ©jÃ  un mot de passe</button>
      </div>
    </div>
  </main>

  <button id="scroll-top" class="scroll-top" aria-label="Retour en haut" title="Retour en haut">â†‘</button>
  <footer class="container footer">Â© Mon Portfolio Â· <span data-year></span></footer>

  <script src="assets/js/portfolio.js?v=20260215i" defer></script>
  <script src="assets/js/projects.js" defer></script>
</body>
</html>
